<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta name="generator" content="Gatsby 5.5.0"/><meta name="theme-color" content="#a2466c"/><style data-href="/styles.bd1864a0749c490821a6.css" data-identity="gatsby-global-css">/*
! tailwindcss v3.2.4 | MIT License | https://tailwindcss.com
*/*,:after,:before{border:0 solid #e5e7eb;box-sizing:border-box}:after,:before{--tw-content:""}html{-webkit-text-size-adjust:100%;font-feature-settings:normal;font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4}body{line-height:inherit;margin:0}hr{border-top-width:1px;color:inherit;height:0}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,pre,samp{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{border-collapse:collapse;border-color:inherit;text-indent:0}button,input,optgroup,select,textarea{color:inherit;font-family:inherit;font-size:100%;font-weight:inherit;line-height:inherit;margin:0;padding:0}button,select{text-transform:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dd,dl,figure,h1,h2,h3,h4,h5,h6,hr,p,pre{margin:0}fieldset{margin:0}fieldset,legend{padding:0}menu,ol,ul{list-style:none;margin:0;padding:0}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{color:#9ca3af;opacity:1}input::placeholder,textarea::placeholder{color:#9ca3af;opacity:1}[role=button],button{cursor:pointer}:disabled{cursor:default}audio,canvas,embed,iframe,img,object,svg,video{display:block;vertical-align:middle}img,video{height:auto;max-width:100%}[hidden]{display:none}*,:after,:before{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgba(59,130,246,.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }::backdrop{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgba(59,130,246,.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }.container{width:100%}@media (min-width:640px){.container{max-width:640px}}@media (min-width:768px){.container{max-width:768px}}@media (min-width:1024px){.container{max-width:1024px}}@media (min-width:1280px){.container{max-width:1280px}}@media (min-width:1536px){.container{max-width:1536px}}.pointer-events-none{pointer-events:none}.absolute{position:absolute}.relative{position:relative}.top-1\/2{top:50%}.col-start-5{grid-column-start:5}.col-start-6{grid-column-start:6}.col-start-1{grid-column-start:1}.col-end-6{grid-column-end:6}.col-end-10{grid-column-end:10}.col-end-5{grid-column-end:5}.m-8{margin:2rem}.mx-auto{margin-left:auto;margin-right:auto}.my-4{margin-bottom:1rem;margin-top:1rem}.mt-5{margin-top:1.25rem}.mb-4{margin-bottom:1rem}.mt-4{margin-top:1rem}.mb-3{margin-bottom:.75rem}.mt-6{margin-top:1.5rem}.mt-2{margin-top:.5rem}.mt-3{margin-top:.75rem}.mr-3{margin-right:.75rem}.mr-10{margin-right:2.5rem}.-mt-3{margin-top:-.75rem}.mr-auto{margin-right:auto}.mb-1{margin-bottom:.25rem}.ml-auto{margin-left:auto}.mt-8{margin-top:2rem}.mr-20{margin-right:5rem}.mr-4{margin-right:1rem}.flex{display:flex}.inline-flex{display:inline-flex}.grid{display:grid}.h-5{height:1.25rem}.h-full{height:100%}.h-6{height:1.5rem}.h-56{height:14rem}.w-5{width:1.25rem}.w-6{width:1.5rem}.w-1{width:.25rem}.w-20{width:5rem}.w-full{width:100%}.max-w-screen-lg{max-width:1024px}.grid-cols-9{grid-template-columns:repeat(9,minmax(0,1fr))}.grid-cols-1{grid-template-columns:repeat(1,minmax(0,1fr))}.flex-row-reverse{flex-direction:row-reverse}.flex-col{flex-direction:column}.flex-wrap{flex-wrap:wrap}.items-center{align-items:center}.justify-end{justify-content:flex-end}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.gap-2{gap:.5rem}.gap-8{gap:2rem}.space-x-2>:not([hidden])~:not([hidden]){--tw-space-x-reverse:0;margin-left:calc(.5rem*(1 - var(--tw-space-x-reverse)));margin-right:calc(.5rem*var(--tw-space-x-reverse))}.rounded{border-radius:.25rem}.rounded-full{border-radius:9999px}.rounded-xl{border-radius:.75rem}.rounded-lg{border-radius:.5rem}.border-b-2{border-bottom-width:2px}.border-blue-500{--tw-border-opacity:1;border-color:rgb(59 130 246/var(--tw-border-opacity))}.bg-blue-400{--tw-bg-opacity:1;background-color:rgb(96 165 250/var(--tw-bg-opacity))}.bg-blue-600{--tw-bg-opacity:1;background-color:rgb(37 99 235/var(--tw-bg-opacity))}.bg-red-600{--tw-bg-opacity:1;background-color:rgb(220 38 38/var(--tw-bg-opacity))}.bg-gray-700{--tw-bg-opacity:1;background-color:rgb(55 65 81/var(--tw-bg-opacity))}.bg-blue-800{--tw-bg-opacity:1;background-color:rgb(30 64 175/var(--tw-bg-opacity))}.bg-blue-500{--tw-bg-opacity:1;background-color:rgb(59 130 246/var(--tw-bg-opacity))}.bg-white{--tw-bg-opacity:1;background-color:rgb(255 255 255/var(--tw-bg-opacity))}.bg-slate-100{--tw-bg-opacity:1;background-color:rgb(241 245 249/var(--tw-bg-opacity))}.fill-current{fill:currentColor}.object-cover{-o-object-fit:cover;object-fit:cover}.p-2{padding:.5rem}.p-4{padding:1rem}.p-6{padding:1.5rem}.p-8{padding:2rem}.px-6{padding-left:1.5rem;padding-right:1.5rem}.py-10{padding-bottom:2.5rem;padding-top:2.5rem}.py-6{padding-bottom:1.5rem;padding-top:1.5rem}.px-4{padding-left:1rem;padding-right:1rem}.pt-4{padding-top:1rem}.pl-4{padding-left:1rem}.pt-8{padding-top:2rem}.text-right{text-align:right}.font-sans{font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji}.font-serif{font-family:ui-serif,Georgia,Cambria,Times New Roman,Times,serif}.text-5xl{font-size:3rem;line-height:1}.text-3xl{font-size:1.875rem;line-height:2.25rem}.text-2xl{font-size:1.5rem;line-height:2rem}.text-xl{font-size:1.25rem}.text-lg,.text-xl{line-height:1.75rem}.text-lg{font-size:1.125rem}.text-sm{font-size:.875rem;line-height:1.25rem}.font-semibold{font-weight:600}.capitalize{text-transform:capitalize}.leading-tight{line-height:1.25}.leading-relaxed{line-height:1.625}.text-black{--tw-text-opacity:1;color:rgb(0 0 0/var(--tw-text-opacity))}.text-gray-700{--tw-text-opacity:1;color:rgb(55 65 81/var(--tw-text-opacity))}.text-yellow-500{--tw-text-opacity:1;color:rgb(234 179 8/var(--tw-text-opacity))}.text-blue-600\/100{color:#2563eb}.text-green-700{--tw-text-opacity:1;color:rgb(21 128 61/var(--tw-text-opacity))}.text-orange-600{--tw-text-opacity:1;color:rgb(234 88 12/var(--tw-text-opacity))}.text-red-600{--tw-text-opacity:1;color:rgb(220 38 38/var(--tw-text-opacity))}.text-gray-400{--tw-text-opacity:1;color:rgb(156 163 175/var(--tw-text-opacity))}.text-blue-800{--tw-text-opacity:1;color:rgb(30 64 175/var(--tw-text-opacity))}.text-blue-600{--tw-text-opacity:1;color:rgb(37 99 235/var(--tw-text-opacity))}.text-purple-700{--tw-text-opacity:1;color:rgb(126 34 206/var(--tw-text-opacity))}.text-blue-700{--tw-text-opacity:1;color:rgb(29 78 216/var(--tw-text-opacity))}.text-white{--tw-text-opacity:1;color:rgb(255 255 255/var(--tw-text-opacity))}.text-blue-50{--tw-text-opacity:1;color:rgb(239 246 255/var(--tw-text-opacity))}.text-slate-900{--tw-text-opacity:1;color:rgb(15 23 42/var(--tw-text-opacity))}.text-gray-800{--tw-text-opacity:1;color:rgb(31 41 55/var(--tw-text-opacity))}.text-gray-500{--tw-text-opacity:1;color:rgb(107 114 128/var(--tw-text-opacity))}.text-blue-500{--tw-text-opacity:1;color:rgb(59 130 246/var(--tw-text-opacity))}.shadow{--tw-shadow:0 1px 3px 0 rgba(0,0,0,.1),0 1px 2px -1px rgba(0,0,0,.1);--tw-shadow-colored:0 1px 3px 0 var(--tw-shadow-color),0 1px 2px -1px var(--tw-shadow-color)}.shadow,.shadow-md{box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}.shadow-md{--tw-shadow:0 4px 6px -1px rgba(0,0,0,.1),0 2px 4px -2px rgba(0,0,0,.1);--tw-shadow-colored:0 4px 6px -1px var(--tw-shadow-color),0 2px 4px -2px var(--tw-shadow-color)}.shadow-2xl{--tw-shadow:0 25px 50px -12px rgba(0,0,0,.25);--tw-shadow-colored:0 25px 50px -12px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}.hover\:underline:hover{text-decoration-line:underline}@media (prefers-color-scheme:dark){.dark\:text-black{--tw-text-opacity:1;color:rgb(0 0 0/var(--tw-text-opacity))}.dark\:text-gray-500{--tw-text-opacity:1;color:rgb(107 114 128/var(--tw-text-opacity))}.dark\:text-white{--tw-text-opacity:1;color:rgb(255 255 255/var(--tw-text-opacity))}.dark\:text-gray-800{--tw-text-opacity:1;color:rgb(31 41 55/var(--tw-text-opacity))}}@media (min-width:768px){.md\:mx-auto{margin-left:auto;margin-right:auto}.md\:mt-16{margin-top:4rem}.md\:grid{display:grid}.md\:contents{display:contents}.md\:w-5\/6{width:83.333333%}.md\:grid-cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}}@media (min-width:1024px){.lg\:mx-6{margin-left:1.5rem;margin-right:1.5rem}.lg\:flex{display:flex}.lg\:w-64{width:16rem}.lg\:w-5\/6{width:83.333333%}.lg\:text-3xl{font-size:1.875rem;line-height:2.25rem}}.layout-module--container--78b04{font-family:sans-serif;margin:auto;max-width:1000px}.layout-module--nav-links--1113b{display:flex;justify-content:center;list-style:none;padding-left:0}.layout-module--nav-link-item--a5f0a{padding-right:4rem}.layout-module--nav-link-text--69cda{color:blue}h2{color:#639}footer{bottom:0;height:35px;position:fixed;text-align:center;width:100%}.layout-module--socialcontainer--31023{padding:0 50px 25px;text-align:center}a.layout-module--social--4a791{display:inline-block;margin:0 1rem;transition:transform .25s}.about-module--jrowah--041b5{border-radius:50%;width:50%}.about-module--aeso--5c258{font-size:x-large;line-height:30px;margin:2em;width:55%}.about-module--intro--58747{display:flex;justify-content:space-between}li{list-style:none}a{text-decoration:none}.about-module--skillset--22abe{text-align:center}.about-module--blogs--1547e{display:flex;flex-direction:row-reverse;flex-wrap:wrap;height:auto;justify-content:space-between}.about-module--blogs--1547e article{border:2px solid blue;box-shadow:10px 0 10px;height:200px;margin-top:2em;padding:2%;width:350px}.about-module--blue--d70ca,.about-module--links--b537c{color:#2563eb}.about-module--purple--54358{color:#7e22ce}.about-module--green--009ae{color:#15803d}.about-module--css--72f78{color:#1e40af}.about-module--yellow--5a791{color:#eab308}.about-module--tee--9e767{color:#ea580c}.about-module--em--9c254{color:#dc2626}.about-module--el--d678c{color:#9ca3af}.about-module--blogImg--ac6c0{margin:2em;width:80%}@media (max-width:768px){.about-module--aeso--5c258{margin-left:.2em;width:100%}.about-module--intro--58747{display:block}.about-module--jrowah--041b5{margin-left:25%}}</style><style>.gatsby-image-wrapper{position:relative;overflow:hidden}.gatsby-image-wrapper picture.object-fit-polyfill{position:static!important}.gatsby-image-wrapper img{bottom:0;height:100%;left:0;margin:0;max-width:none;padding:0;position:absolute;right:0;top:0;width:100%;object-fit:cover}.gatsby-image-wrapper [data-main-image]{opacity:0;transform:translateZ(0);transition:opacity .25s linear;will-change:opacity}.gatsby-image-wrapper-constrained{display:inline-block;vertical-align:top}</style><noscript><style>.gatsby-image-wrapper noscript [data-main-image]{opacity:1!important}.gatsby-image-wrapper [data-placeholder-image]{opacity:0!important}</style></noscript><script type="module">const e="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;e&&document.body.addEventListener("load",(function(e){const t=e.target;if(void 0===t.dataset.mainImage)return;if(void 0===t.dataset.gatsbyImageSsr)return;let a=null,n=t;for(;null===a&&n;)void 0!==n.parentNode.dataset.gatsbyImageWrapper&&(a=n.parentNode),n=n.parentNode;const o=a.querySelector("[data-placeholder-image]"),r=new Image;r.src=t.currentSrc,r.decode().catch((()=>{})).then((()=>{t.style.opacity=1,o&&(o.style.opacity=0,o.style.transition="opacity 500ms linear")}))}),!0);</script><link rel="icon" href="/favicon-32x32.png?v=cecce60eddff99572e5a8f48a3cb555e" type="image/png"/><link rel="manifest" href="/manifest.webmanifest" crossorigin="anonymous"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=cecce60eddff99572e5a8f48a3cb555e"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=cecce60eddff99572e5a8f48a3cb555e"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=cecce60eddff99572e5a8f48a3cb555e"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=cecce60eddff99572e5a8f48a3cb555e"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=cecce60eddff99572e5a8f48a3cb555e"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=cecce60eddff99572e5a8f48a3cb555e"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=cecce60eddff99572e5a8f48a3cb555e"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=cecce60eddff99572e5a8f48a3cb555e"/><title data-gatsby-head="true">James Rowa | Contexts with Phoenix</title></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div class="layout-module--container--78b04"><nav><ul class="layout-module--nav-links--1113b"><li class="layout-module--nav-link-item--a5f0a"><a class="layout-module--nav-link-text--69cda" class="text-3xl text-blue-500 border-b-2 border-blue-500" href="/">About</a></li><li class="layout-module--nav-link-item--a5f0a"><a class="layout-module--nav-link-text--69cda" class="text-3xl text-blue-500 border-b-2 border-blue-500" href="/journey/">Journey</a></li><li class="layout-module--nav-link-item--a5f0a"><a class="layout-module--nav-link-text--69cda" class="text-3xl text-blue-500 border-b-2 border-blue-500" href="/blog/">Blog</a></li></ul></nav><main><h1 class="text-black text-3xl">Contexts with Phoenix</h1><p>Posted: <!-- -->February 01, 2023</p><div data-gatsby-image-wrapper="" class="gatsby-image-wrapper gatsby-image-wrapper-constrained about-module--blogImg--ac6c0"><div style="max-width:1125px;display:block"><img alt="" role="presentation" aria-hidden="true" src="data:image/svg+xml;charset=utf-8,%3Csvg height=&#x27;750&#x27; width=&#x27;1125&#x27; xmlns=&#x27;http://www.w3.org/2000/svg&#x27; version=&#x27;1.1&#x27;%3E%3C/svg%3E" style="max-width:100%;display:block;position:static"/></div><div aria-hidden="true" data-placeholder-image="" style="opacity:1;transition:opacity 500ms linear;background-color:#382828;position:absolute;top:0;left:0;bottom:0;right:0"></div><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 1125px) 1125px, 100vw" decoding="async" loading="lazy" data-src="/static/7f03ec1927f3994dec909be29a8233d9/4e308/elixir.webp" data-srcset="/static/7f03ec1927f3994dec909be29a8233d9/a48cc/elixir.webp 281w,/static/7f03ec1927f3994dec909be29a8233d9/c0079/elixir.webp 563w,/static/7f03ec1927f3994dec909be29a8233d9/4e308/elixir.webp 1125w" alt=""/><noscript><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 1125px) 1125px, 100vw" decoding="async" loading="lazy" src="/static/7f03ec1927f3994dec909be29a8233d9/4e308/elixir.webp" srcSet="/static/7f03ec1927f3994dec909be29a8233d9/a48cc/elixir.webp 281w,/static/7f03ec1927f3994dec909be29a8233d9/c0079/elixir.webp 563w,/static/7f03ec1927f3994dec909be29a8233d9/4e308/elixir.webp 1125w" alt=""/></noscript><script type="module">const t="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;if(t){const t=document.querySelectorAll("img[data-main-image]");for(let e of t){e.dataset.src&&(e.setAttribute("src",e.dataset.src),e.removeAttribute("data-src")),e.dataset.srcset&&(e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset"));const t=e.parentNode.querySelectorAll("source[data-srcset]");for(let e of t)e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset");e.complete&&(e.style.opacity=1,e.parentNode.parentNode.querySelector("[data-placeholder-image]").style.opacity=0)}}</script></div><p class="text-right mr-20"> Photo Credit: <!-- -->elixir-lang.org</p><section class="bg-slate-100 shadow-2xl p-8 font-serif leading-relaxed text-lg w-6/6 md:w-5/6 lg:w-5/6"><p><em>I recently dived into Elixir and found out how fun and easy to understand the language is. I want to learn its framework Phoenix by building a full stack travel blog application. I use this project to learn Phoenix contexts and authentication. Lets go!</em></p>
<br/>
<p align="center">* * * *</p>
<br/>
<p>Here is what we are going to do in the first part of this project:</p>
<ol><li>1. Set up a new Phoenix project</li>
<li>2. Generate an Accounts context</li>
<li>3. Generate an Blog context with a Post model</li>
<li>4. Generate a Comment model inside the Blog context</li>
<li>5. Create a comments controller</li>
<li>6. Create a comments form, load and display comments</li></ol>
<p>All the completed code for this project can be found on this <span style="color:blue"> <a href="https://github.com/rowah/travel_blog">repository</a></span> . Clone and switch to the comment_feature branch for the code. The main branch has authentication implemented.</p>
<br/>
<p>To get started, we will open the terminal and change directory to wherever you want
to create your project. Once there, run <strong><em>mix phx.new travel_blog</em></strong> command to
create a new Phoenix project called travel_blog.</p>
<br/>
<img src="/images/travel_blog.png" alt="Hopper The Rabbit"/>
<br/>
<p>Once created and all the dependencies installed, let us cd into the travel_blog directory and open it on your text editor.</p>
<br/>
<div style="background-color:grey;height:100px;padding-top:30px;padding-left:10px;margin:20px"><ul><li>$ cd travel_blog</li>
<li>$ code .</li></ul></div>
<br/>
<p>Then configure your database in config/dev.exs and then to create the db, run:</p>
<div style="background-color:grey;height:100px;padding-top:30px;padding-left:10px;margin:20px"><p>$ mix ecto.create</p></div>
<p>Then start the Phoenix app with;</p>
<div style="background-color:grey;height:100px;padding-top:30px;padding-left:10px;margin:20px"><p>$ mix phx.server</p></div>
<br/>
<p>Open the application in the browser and see the default &quot;Welcome to Phoenix&quot; page.
Awesome!</p>
<br/>
<p>Let us create our first context. Think of a context as a boundary to decouple and isolate parts of your application. They encapsulate data access and data validation in Phoenix applications.
The first context we will create is the Accounts context. To do so, run;</p>
<div style="background-color:grey;height:100px;padding-top:30px;padding-left:10px;margin:20px"><p><p>$ mix phx.gen.context Accounts User users first_name:string last_name:string
email:string password_hash:string</p></p></div>
<p>You should see:</p>
<img src="/images/account_context.png" alt="Create context"/>
<br/>
<p>So here we are creating an Accounts context with a &quot;User&quot; schema and the data table name being &quot;users&quot; with <em>first_name</em>, <em>last_name</em>, <em>email</em>, and <em>password_hash</em>. This generates files like User.ex which is a schema with users tables, accounts.ex which severs as the API boundary and a bunch of other test files.</p>
<br/>
<p>Next we need a Post schema. To generate this, we will need to create a Blog context,
that will have the posts and comments. I choose to have the two under one context
since they will have a connection. We&#x27;ll use <strong><em>mix phx.gen.html</em></strong> which creates
a context module that wraps up Ecto access for creating, updating, and deleting products,
along with controllers and template web files (views) for the web interface into
our context. We will give our posts a title (string), and a body (text). Run:</p>
<div style="background-color:grey;height:100px;padding-top:30px;padding-left:10px;margin:20px"><p>$ mix phx.gen.html Blog Post posts title:string body:text</p></div>
<img src="/images/post_schema.png" alt="Modifies post schemas"/>
<br/>
<p>A look into the post.ex shows that it is the post schema that maps to the corresponding
db table named posts. There is also the post_controller.ex which is where we will
interact with the posts and their associated comments, but through the Blog context
module which contains the &quot;blog&quot; functionality. For example, we use the <strong><em>Blog.list_posts</em></strong>
to get all the posts, we pass in the post id into the <strong><em>Blog.get_post</em></strong> to get
a particular post, and we can create a post using the <strong><em>Blog.create_post</em></strong> function.
When we open the Blog context module we can see all the functions that are called
in the post_controller.ex such as <em>list_posts</em> which looks up and lists all our posts
from the db, <em>create_post</em>, <em>get_post</em> which retrieved a single post whose id is
passed and son on.</p>
<br/>
<p>Then, we need to add the new resource <em>resources &quot;/posts&quot;, PostController</em> into the
router.ex file.</p>
<br/>
<img src="/images/post_resource.png" alt="post resource"/>
<br/>
<p>We can now run our migrations once again and start our server again using <strong><em>mix
phx.server</em></strong>. We can then navigate to the /posts route and create a new post.</p>
<br/>
<p>We can now dive into the more challenging part of our project. We want to create
the comments. We are going to include the comments functionality inside the already
existing blog context since the two are going to be related. To avoid complication,
we use the same post templates we generated through <strong><em>mix phx.gen.html</em></strong> which
we used to create the blog context. We are not going to need any web files for the
comments so we can go ahead and use the <strong><em>mix phx.gen.context</em></strong> generator with
Blog as the context and Comment as the schema and comments for the table name. Additionally,
our comments need to have a body, and an association with a post and so we will add
a &quot;post_id&quot; that will reference the post that each comment will be associated with.
So run;</p>
<div style="background-color:grey;height:100px;padding-top:30px;padding-left:10px;margin:20px"><p><p>$ mix phx.gen.context Blog Comment comments body:string
post_id:references:posts</p></p></div>
<p>Upon running the generator, Phoenix asks if we are sure about creating the schema inside the Blog context and not in one of its own. This is okay in our case since the comments are associated with the Blog, and if we remember we created the Accounts context on its own. When we run the generator, we can see a new comment schema module created along with the associated comments migration. A look into the blog.ex we see some comments functions injected which are going to interact with the comments.</p>
<br/>
<p>After defining the relationship between our posts and comments, we need to &quot;link&quot;
this relationship by doing some modifications in their schemas. We need to open the
comment.ex schema module and add the belongs_to association to the schema.</p>
<br/>
<img src="/images/comment_asocc.png" alt="Associate with posts"/>
<br/>
<p>We also need to open the post.ex schema module and add the has_many association with
the comments.</p>
<br/>
<img src="/images/assoc_post.png" alt="Associate with comments"/>
<br/>
<p>After associating the comments with the posts, we need to ensure that when a post will be deleted, all the comments associated with it will also have to be deleted along with it. To do this, let us go to the migrations that were generated.</p>
<br/>
<img src="/images/delete_all.png" alt="Deletes comments"/>
<p>We can then run our migrations;</p>
<br/>
<img src="/images/comments_mig.png" alt="Migrates comments"/>
<br/>
<p>Going back into the blog.ex context module inside of which our comment functions were also created, we notice that the patterns of both create_post and create_comment functions are the same, while the latter will have to take in the post with which the comment it creates will be associated. Therefore, we need to modify the create_comment function to accept the post that we want to associate the comment with.</p>
<img src="/images/update_createcommentfn.png" alt="Create comments"/>
<br/>
<p>Remember that when we created the Comment schema module inside the Blog context,
we did not generate any of the web files. Therefore, we will need to create our own
controller for the comments and later on update the post view to accommodate the
creation and display of the comments.</p>
<p>Inside the controllers directory, let us create
a new module comment_controller.ex inside of which we will define our module, and
give it a single create function that accepts the connection. We need to pattern
matching on the params to get the id of the post, and the comment params (sent over
from the comment form after submission).</p>
<br/>
<img src="/images/comnt_cntrl.png" alt="comment control"/>
<br/>
<p>To get the post that the incoming comment is associated with, we will call the Blog.get_post
function which will take in the post id coming with the comment, and then create
our comment using a case statement in the Blog.create_comment function that we had
already associated with the post. We will then need to pattern match the OK tuple
that will be returned if the comment is created successfully and the error tuple
returned if the creation fails. If the comment is created, we display a flash message
indicating so and redirecting the user to the post path, and if it fails, we will
also display an error message and return them to the post path.</p>
<p>We will then need to go to the router.ex and nest the new CommentController inside the “posts” resource, only specifying the “create” action which is what we set in the controller.</p>
<br/>
<img src="/images/commentrcs.png" alt="Comment"/>
<br/>
<p>We will the need to add our comments form inside the post&#x27;s show.htm.eex template
just below the post by defining a new from_for with a @comment_changeset that we
will create. We are then posting the form to the new comments path we just created</p>
<br/>
<img src="/images/comments_form.png" alt="comment form"/>
<br/>
<p>We then need to create the comment_changeset in the show function inside the post_controller.ex.
Calling the Blog.change_comment gets us our comment changeset, which we then pass
into the assigns as comment_changeset. We then have to alias Comment so we can use
it here without the prefix.</p>
<br/>
<img src="/images/cmnt_cs.png" alt="comments changeset"/>
<br/>
<p>We can then run the server using mix phn.server and go to any of the posts you already
created and there we see our comment form. If we try to create a comment, we receive
a message that the comment was created but we cannot see it. The reason here is that
while we are creating and persisting our comment in the database, we have no way
of displaying it on the screen and so we need to modify our views. To do this, we
first need to modify the function that we use to get our post to also load the comment.</p>
<br/>
<img src="/images/get_cnmt.png" alt="Load comments"/>
<br/>
<p>Once we are loading the comments like so, we can modify the post&#x27;s show.htm.eex template
to display all the comment below the post they are associated with.</p>
<br/>
<img src="/images/last.png" alt="Comment form"/>
<br/>
<p>This finally loads all comments just below the post they are associated with plus
any other comment created on the particular post, as we can see from the browser.</p>
<pre><code></code></pre><h3 align="right" class="mr-4"> Connect With Me</h3><p class="flex justify-end mt-4"><span class="px-4"><a href="https://twitter.com/jrowah" target="blank"><img src="https://raw.githubusercontent.com/rahuldkjain/github-profile-readme-generator/master/src/images/icons/Social/twitter.svg" alt="jrowah" height="20" width="30"/></a></span><span class="px-4"><a href="https://instagram.com/jrowah" target="blank"><img src="https://raw.githubusercontent.com/rahuldkjain/github-profile-readme-generator/master/src/images/icons/Social/instagram.svg" alt="jrowah" height="20" width="30"/></a></span><span class="px-4"><a href="https://linkedin.com/in/james-rowa" target="blank"><img src="https://raw.githubusercontent.com/rahuldkjain/github-profile-readme-generator/master/src/images/icons/Social/linked-in-alt.svg" alt="james rowa" height="20" width="30"/></a></span><span class="px-4"><a href="https://github.com/rowah" target="blank"><img src="https://raw.githubusercontent.com/rahuldkjain/github-profile-readme-generator/master/src/images/icons/Social/github.svg" alt="james rowa" height="20" width="30"/></a></span></p></section></main></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/blog/elixir-fundamentals/";/*]]>*/</script><!-- slice-start id="_gatsby-scripts-1" -->
          <script
            id="gatsby-chunk-mapping"
          >
            window.___chunkMapping="{\"app\":[\"/app-6d819850386effcf3135.js\"],\"component---cache-caches-gatsby-plugin-offline-app-shell-js\":[\"/component---cache-caches-gatsby-plugin-offline-app-shell-js-8287b7aa6f795ed6bc55.js\"],\"component---src-pages-404-js\":[\"/component---src-pages-404-js-8c2fe89e10512d237afe.js\"],\"component---src-pages-blog-index-js\":[\"/component---src-pages-blog-index-js-a8d6d1e4957bf87715dc.js\"],\"component---src-pages-blog-mdx-frontmatter-slug-js-content-file-path-volumes-code-my-website-blog-elixir-fundermentals-post-index-mdx\":[\"/component---src-pages-blog-mdx-frontmatter-slug-js-content-file-path-volumes-code-my-website-blog-elixir-fundermentals-post-index-mdx-aa3a9ed29ed02874bcc2.js\"],\"component---src-pages-blog-mdx-frontmatter-slug-js-content-file-path-volumes-code-my-website-blog-friends-post-index-mdx\":[\"/component---src-pages-blog-mdx-frontmatter-slug-js-content-file-path-volumes-code-my-website-blog-friends-post-index-mdx-343fc17e4bebe1978c2e.js\"],\"component---src-pages-index-js\":[\"/component---src-pages-index-js-b5210605ec80f6e65d36.js\"],\"component---src-pages-journey-js\":[\"/component---src-pages-journey-js-642cf7bbc63614fcaf52.js\"],\"component---src-pages-privacy-policy-js\":[\"/component---src-pages-privacy-policy-js-bf780d275b5ffb87c7ed.js\"],\"component---src-pages-projects-js\":[\"/component---src-pages-projects-js-d726d79f6cd1516dac80.js\"]}";
          </script>
        <script>window.___webpackCompilationHash="a7de7c066d37b7cda325";</script><script src="/webpack-runtime-0a261c7cfc0e76c58975.js" async></script><script src="/framework-840563957f5b751fdc8c.js" async></script><script src="/app-6d819850386effcf3135.js" async></script><!-- slice-end id="_gatsby-scripts-1" --></body></html>